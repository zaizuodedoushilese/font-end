<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>test  WebWorker</title>
    <script type="text/javascript">
      window.onload = function(){
        let oTxt1 = document.getElementById('txt1');
        let oTxt2 = document.getElementById('txt2');
        let oBtn = document.getElementById('btn');

        oBtn.onclick = function(){
          //1、新建
          let wb = new Worker('sub_WebWorker.js');
          let n1 = oTxt1.value?parseInt(oTxt1.value):0;
          let n2 = oTxt2.value?parseInt(oTxt2.value):0;
          //2、发送
          wb.postMessage({n1, n2});

          //6、接收结果
          wb.onmessage = function(ev){
            alert(ev.data);
          };
        };


      };
    </script>
  </head>
  <body>
    <input type="text" id="txt1">
    <input type="text" id="txt2">
    <input type="button" id="btn" value="求和">
  </body>
</html>
